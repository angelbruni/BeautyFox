<?xml version="1.0"?>

<?xml-stylesheet href="chrome://global/skin/global.css" type="text/css"?>
<?xml-stylesheet href="chrome://userchrome/content/frameworks/zuneMetro/style.css" type="text/css"?>
<?xml-stylesheet href="chrome://bfwindows/content/wizard/style.css" type="text/css"?>

<!DOCTYPE window [
	<!ENTITY % dialogs SYSTEM "chrome://beautyfox/locale/dialogs.dtd">
	%dialogs;
	<!ENTITY % options SYSTEM "chrome://beautyfox/locale/options.dtd">
	%options;
	<!ENTITY % wizard SYSTEM "chrome://beautyfox/locale/wizard.dtd">
	%wizard;
]>

<window xmlns:html="http://www.w3.org/1999/xhtml" xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul" windowtype="Browser:BeautyFoxWizard" title="&window.titleWizard;" height="750" width="950" chromemargin="0,0,0,0" hassplashscreen="true">
	<html:div id="windowAnimation">
        <vbox id="windowStyling" style="height: 750px;">
            <hbox id="customTitlebar">
                <label id="captionTitle" style="display: none;">&window.titleWizard;</label>
                <hbox id="captionButtonsContainer">
                    <hbox id="captionButtons">
                        <captionButton id="minimiseButton" onclick="window.minimize();"/>
                        <captionButton id="closeButton" onclick="zuneClose();"/>
                    </hbox>
                </hbox>
            </hbox>
            <vbox id="splashScreen">
                <html:div>
                    <image src="chrome://bfwindows/content/wizard/resources/images/ie-metro-icon.svg"/>
                </html:div>
                <vbox>
                    <label id="splashLabel">Welcome to BeautyFox</label>
                </vbox>
            </vbox>
            <vbox id="windowContent" data-page="">
                <hbox id="extendedTitlebarArea">
                    <html:div id="accentGradient"/>
                    <vbox id="navigationButtons">
                        <navButton data-functiontype="navigation" data-navtype="back" onclick="page('main').seekPages('backwards')"/>
                    </vbox>
                    <vbox id="text" class="pagesContainer" data-group="main">
                        <vbox id="page1" data-step="welcome" class="firstTitle">
                            <label class="title">Welcome to <span class="textHighlight">BeautyFox</span></label>
                        </vbox>
                        <vbox id="page2" data-step="appearance">
                            <label class="title">&wizard.appearance;</label>
                        </vbox>
                        <vbox id="page3" data-step="variant">
                            <label class="title">Select the desired variant</label>
                        </vbox>
                        <vbox id="page4" data-step="options">
                            <label class="title">&wizard.additional;</label>
                        </vbox>
                        <vbox id="page5" data-step="finish">
                            <label class="title">&wizard.thanks;</label>
                        </vbox>
                        <label id="description">Fast is now <span class="textHighlight">beautiful</span>, again.</label>
                        <breadcrumbbar>
                            <item onclick="page('main').skipTo(1)" data-path="welcome">
                                <label>Welcome</label>
                            </item>
                            <item onclick="page('main').skipTo(2)" data-path="appearance">
                                <label>&setting.internetExplorerAppearance;</label>     
                            </item>
                            <item onclick="page('main').skipTo(3)" data-path="variant">
                                <label>Variant</label>                    
                            </item>
                            <item onclick="page('main').skipTo(4)" data-path="options">
                                <label>&wizard.additional;</label>                       
                            </item>
                            <item onclick="page('main').skipTo(5)" data-path="finish">
                                <label>Finish</label>
                            </item>
                        </breadcrumbbar>
                    </vbox>
                </hbox>
                <hbox class="pagesContainer" data-group="main">
                    <vbox id="page1" class="firstPage" data-step="welcome">
                        <label class="fadeInLeftToRight" animation-order="0">&wizard.about;</label>
                        <hbox id="aboutImage">
                            <image id="aboutImageFirefox" width="128px" height="132px" src="chrome://bfwindows/content/wizard/resources/images/firefox-icon.svg"/>
                            <image id="aboutImageArrow" width="40px" height="32px" src="chrome://bfwindows/content/wizard/resources/images/transform-arrow.svg"/>
                            <image id="aboutImageIE" width="135px" height="132px" src="chrome://bfwindows/content/wizard/resources/images/ie-icon.svg"/>
                        </hbox>
                    </vbox>
                    <vbox id="page2" data-step="appearance">
                        <label class="fadeInLeftToRight" animation-order="0">&wizard.manyStyles;</label>
                        <hbox class="tilesContainer">
                            <tile class="fadeInLeftToRight" animation-order="1" onclick="chosenAppearance = 0; page('main').seekPages();">
                                <html:div class="tileArtPerspective">
                                    <html:div class="tileArt">
                                        <html:div class="glare"/>
                                        <html:img src="chrome://bfwindows/content/wizard/resources/images/IE9PR.png"/>
                                    </html:div>
                                </html:div>
                                <label>Internet Explorer 9 Pre-Release</label>
                            </tile>
                            <tile class="fadeInLeftToRight" animation-order="2" onclick="chosenAppearance = 1; page('main').seekPages();">
                                <html:div class="tileArtPerspective">
                                    <html:div class="tileArt">
                                        <html:div class="glare"/>
                                        <html:img src="chrome://bfwindows/content/wizard/resources/images/IE9.png"/>
                                    </html:div>
                                </html:div>
                                <label>Internet Explorer 9</label>
                            </tile>
                            <tile class="fadeInLeftToRight" animation-order="3" onclick="chosenAppearance = 2; page('main').seekPages();">
                                <html:div class="tileArtPerspective">
                                    <html:div class="tileArt">
                                        <html:div class="glare"/>
                                        <html:img src="chrome://bfwindows/content/wizard/resources/images/IE10.png"/>
                                    </html:div>
                                </html:div>
                                <label>Internet Explorer 10+</label>
                            </tile>
                        </hbox>
                    </vbox>
                    <vbox id="page3" data-step="variant">
                        <vbox id="appearance0">
                            <label class="fadeInLeftToRight" animation-order="0">&wizard.IE9PreReleaseFeatures;</label>
                            <hbox class="tilesContainer">
                                <tile class="fadeInLeftToRight" animation-order="1" onclick="multipleChoiceSetting(0, BeautyFoxSettingType.appearance, 'storedAppearanceChoice').apply(mapCollections.appearanceSelectorMap); page('main').seekPages();">
                                    <html:div class="tileArtPerspective">
                                        <html:div class="tileArt">
                                            <html:div class="glare"/>
                                            <html:img style="top: 0; left: 0;" src="chrome://bfwindows/content/wizard/resources/images/7777.jpg"/>
                                        </html:div>
                                    </html:div>
                                    <label>&wizard.IE9PreRelease7777Appearance;</label>
                                </tile>
                                <tile class="fadeInLeftToRight" animation-order="2" onclick="multipleChoiceSetting(1, BeautyFoxSettingType.appearance, 'storedAppearanceChoice').apply(mapCollections.appearanceSelectorMap); page('main').seekPages();">
                                    <html:div class="tileArtPerspective">
                                        <html:div class="tileArt">
                                            <html:div class="glare"/>
                                            <html:img style="top: 0; left: 0;" src="chrome://bfwindows/content/wizard/resources/images/7930.jpg"/>
                                        </html:div>
                                    </html:div>
                                    <label>&wizard.IE9PreRelease7930Appearance;</label>
                                </tile>
                            </hbox>
                        </vbox>
                        <vbox id="appearance1">
                            <label class="fadeInLeftToRight" animation-order="0">&wizard.IE9Features;</label>
                            <html:div class="fadeInLeftToRight" animation-order="1" style="margin-top: 35px;">
                                <commandlinkbutton onclick="multipleChoiceSetting(2, BeautyFoxSettingType.appearance, 'storedAppearanceChoice').apply(mapCollections.appearanceSelectorMap); page('main').seekPages();">
                                    <html:div class="states">
                                        <html:div class="hover"/>
                                        <html:div class="active"/>
                                    </html:div>
                                    <vbox>
                                        <label class="title">&wizard.IE9About;</label>
                                    </vbox>
                                </commandlinkbutton>
                            </html:div>
                            <html:div class="fadeInLeftToRight" animation-order="2">
                                <commandlinkbutton onclick="multipleChoiceSetting(3, BeautyFoxSettingType.appearance, 'storedAppearanceChoice').apply(mapCollections.appearanceSelectorMap); page('main').seekPages();">
                                    <html:div class="states">
                                        <html:div class="hover"/>
                                        <html:div class="active"/>
                                    </html:div>
                                    <vbox>
                                        <label class="title">&wizard.IE10DeveloperPreviewAbout;</label>
                                    </vbox>
                                </commandlinkbutton>
                            </html:div>
                            <html:div class="fadeInLeftToRight" animation-order="3">
                                <commandlinkbutton onclick="multipleChoiceSetting(4, BeautyFoxSettingType.appearance, 'storedAppearanceChoice').apply(mapCollections.appearanceSelectorMap); page('main').seekPages();">
                                    <html:div class="states">
                                        <html:div class="hover"/>
                                        <html:div class="active"/>
                                    </html:div>
                                    <vbox>
                                        <label class="title">&wizard.IE10ConsumerPreviewAbout;</label>
                                    </vbox>
                                </commandlinkbutton>
                            </html:div>
                            <html:div class="fadeInLeftToRight" animation-order="4">
                                <commandlinkbutton onclick="multipleChoiceSetting(5, BeautyFoxSettingType.appearance, 'storedAppearanceChoice').apply(mapCollections.appearanceSelectorMap); page('main').seekPages();">
                                    <html:div class="states">
                                        <html:div class="hover"/>
                                        <html:div class="active"/>
                                    </html:div>
                                    <vbox>
                                        <label class="title">&wizard.IE10ReleasePreviewAbout;</label>
                                    </vbox>
                                </commandlinkbutton>
                            </html:div>
                        </vbox>
                        <vbox id="appearance2">
                            <label class="fadeInLeftToRight" animation-order="0">&wizard.IE10PlusFeatures;</label>
                            <html:div class="fadeInLeftToRight" animation-order="1" style="margin-top: 35px;">
                                <commandlinkbutton onclick="multipleChoiceSetting(6, BeautyFoxSettingType.appearance, 'storedAppearanceChoice').apply(mapCollections.appearanceSelectorMap); page('main').seekPages();">
                                    <html:div class="states">
                                        <html:div class="hover"/>
                                        <html:div class="active"/>
                                    </html:div>
                                    <vbox>
                                        <label class="title">&wizard.IE10Appearance;</label>
                                    </vbox>
                                </commandlinkbutton>
                            </html:div>
                            <html:div class="fadeInLeftToRight" animation-order="2">
                                <commandlinkbutton onclick="multipleChoiceSetting(7, BeautyFoxSettingType.appearance, 'storedAppearanceChoice').apply(mapCollections.appearanceSelectorMap); page('main').seekPages();">
                                    <html:div class="states">
                                        <html:div class="hover"/>
                                        <html:div class="active"/>
                                    </html:div>
                                    <vbox>
                                        <label class="title">&wizard.IE11Appearance;</label>
                                        <label class="description">&wizard.IE11AppearanceDescription;</label>
                                    </vbox>
                                </commandlinkbutton>
                            </html:div>
                            <html:div class="fadeInLeftToRight" animation-order="3">
                                <commandlinkbutton onclick="multipleChoiceSetting(8, BeautyFoxSettingType.appearance, 'storedAppearanceChoice').apply(mapCollections.appearanceSelectorMap); page('main').seekPages();">
                                    <html:div class="states">
                                        <html:div class="hover"/>
                                        <html:div class="active"/>
                                    </html:div>
                                    <vbox>
                                        <label class="title">&wizard.IE11Win10Appearance;</label>
                                        <label class="description">&wizard.IE11Win10AppearanceDescription;</label>
                                    </vbox>
                                </commandlinkbutton>
                            </html:div>
                        </vbox>
                    </vbox>
                    <vbox id="page4" data-step="options">
                        <html:div class="fadeInLeftToRight" animation-order="0">
                            <zuneButton data-functiontype="navigation" data-navtype="next" onclick="openBeautyFoxOptionsDialog();">
                                <html:div>
                                    <label>&wizard.openBeautyFoxOptions;</label>
                                </html:div>
                            </zuneButton>
                        </html:div>
                    </vbox>
                    <vbox id="page5" data-step="finish">
                        <hbox>
                            <vbox>
                                <label class="fadeInLeftToRight" animation-order="0">&wizard.restartRequired;</label>
                                <vbox class="fadeInLeftToRight" animation-order="1" style="margin-top: 35px;">
                                    <commandlinkbutton onclick="pref('BeautyFox.option.bDoNotRunWizardInNextStart').set.bool(true); setTimeout(() => { _ucUtils.restart(true); }, 400); zuneClose();">
                                        <html:div class="states">
                                            <html:div class="hover"/>
                                            <html:div class="active"/>
                                        </html:div>
                                        <vbox>
                                            <label class="title">&dialog.restartNow;</label>
                                        </vbox>
                                    </commandlinkbutton>
                                </vbox>
                            </vbox>
                            <image class="backgroundMoving" style="--currentOpacity: .5; margin-left: 22px" src="chrome://bfwindows/content/wizard/resources/images/inori_hurray.png" height="256" width="256"/>
                        </hbox>
                    </vbox>
                </hbox>
                <hbox class="footer fadeInLeftToRight" animation-order="3">
                    <zuneButton data-functiontype="navigation" data-navtype="next" onclick="page('main').seekPages()">
                        <html:div>
                            <label>&wizard.next;</label>
                        </html:div>
                    </zuneButton>
                </hbox>
            </vbox>
        </vbox>
    </html:div>

    <script src="chrome://userchrome/content/frameworks/zuneMetro/scripts/frame.js" type="text/javascript" defer="true"/>
    <script src="chrome://userchrome/content/frameworks/zuneMetro/scripts/pages.js" type="text/javascript" defer="true"/>
    <script src="chrome://userchrome/content/frameworks/zuneMetro/scripts/anims.js" type="text/javascript" defer="true"/>

    <script src="chrome://userscripts/content/BeautyFox_utils.uc.js" type="text/javascript" defer="true"/>
    <script src="chrome://userscripts/content/BeautyFox_customWindow.uc.js" type="text/javascript" defer="true"/>
    <script src="chrome://userscripts/content/BeautyFox_settingsManager.uc.js" type="text/javascript" defer="true"/>
    
    <script src="chrome://bfwindows/content/wizard/scripts/settings.js" type="text/javascript" defer="true"/>
    <script src="chrome://bfwindows/content/wizard/scripts/ui.js" type="text/javascript" defer="true"/>
</window>