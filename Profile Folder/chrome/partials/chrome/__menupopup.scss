@media not (-moz-windows-non-native-menus) {
    toolbarbutton menupopup[placespopup] {
        --panel-shadow-margin: 0px !important;
    }
}

toolbarbutton menupopup[placespopup] {
    appearance: auto !important;
}

toolbarbutton menupopup[placespopup] > :is(menu, menuitem) {
    appearance: auto !important;
    padding-right: 24px !important;
    min-height: 0 !important;
}

:is(panel, menupopup)::part(content), arrowscrollbox {
    background: transparent !important;
    box-shadow: none !important;
    margin: 0 !important;
    padding: 0 !important;
}

toolbarbutton menupopup[placespopup] menuseparator {
    appearance: auto !important;
    margin: 0 !important;

    &::before {
        content: unset !important;
    }
}

toolbarbutton menupopup[placespopup] > :is(menu, menuitem) :is(.menu-text, .menu-iconic-text, .menu-iconic-left, .menu-iconic-accel, .menu-accel-container, .menu-accel, .menu-right) {
    margin-inline-start: 2px !important;
    padding-inline-end: 2px !important;
    padding-inline-start: 1.45em !important;
    appearance: auto !important;
    margin: 0 !important;
    padding: 1px 0 !important;
}